import{a as d,d as p,u as o,r as t,o as u}from"./index-CC4I0ac1.js";import"./bootstrap.esm-G50tnjl1.js";const l="https://ec-course-api.hexschool.io",m="abbie-ts",s=d.create({baseURL:l});s.interceptors.request.use(e=>{const r=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");return r&&(e.headers.Authorization=r),e},e=>Promise.reject(e));s.interceptors.response.use(e=>Promise.resolve(e),e=>Promise.reject(e.response.data));const _=e=>s.get(`/v2/api/${m}/admin/orders`,{params:e}),h=p({__name:"OrderManagement",setup(e){o("orderDetailModalRef"),o("deleteModalRef"),t({create_at:0,id:"",is_paid:!1,total:0,message:"",products:{},user:{address:"",email:"",name:"",tel:""},num:0});const r=t("1"),n=t([]),c=t({total_pages:0,current_page:0,has_pre:!1,has_next:!1,category:""}),i=async()=>{try{const a=await _({page:r.value});n.value=a.data.orders,c.value=a.data.pagination}catch{alert("取得訂單列表失敗")}};return u(()=>{i()}),()=>{}}});export{h as default};
